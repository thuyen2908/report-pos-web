# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Create tickets >> Add an existing customer to a new ticket and pay with Loyalty points
- Location: /home/circleci/project/e2e/pos-web/dist/bdd/create-tickets.feature.spec.js:26:3

# Error details

```
Error: locator.click: Test timeout of 90000ms exceeded.
Call log:
  - waiting for locator('div.xQueueList').getByText('Tim', { exact: true })

    at HomePage.selectEmployee (/home/circleci/project/e2e/pos-web/src/steps/home.page.ts:55:18)
    at Object.fn (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.0/node_modules/playwright-bdd/src/steps/decorators/steps.ts:64:17)
    at /home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.0/node_modules/playwright-bdd/src/runtime/bddStepInvoker.ts:57:60
    at BddStepInvoker.invoke (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.0/node_modules/playwright-bdd/src/runtime/bddStepInvoker.ts:51:5)
    at /home/circleci/project/e2e/pos-web/dist/bdd/create-tickets.feature.spec.js:28:5
```

# Page snapshot

```yaml
- banner:
  - img
  - list:
    - listitem: Timesheet
    - listitem: Check In
    - listitem: Tickets
    - listitem: Turn
    - listitem: Appointment
    - listitem: Quick Sale
    - listitem: Balance
  - text: Mar 07
  - list:
    - listitem: BLANC NAILS
    - listitem:
      - paragraph: ", , | (707) 707-1122"
      - text: "Thuyen Nguyen | Station: 1"
- list
- main:
  - text: CHECK-INS No Customer
  - tablist:
    - tab "NAILS" [selected]
    - tab "HAIR"
  - tabpanel:
    - list:
      - listitem: "C #1 Christ 07:00 AM Turn: 0.0"
      - listitem:
        - img "item service Owner"
        - text: "#2 Owner 12:45 AM Turn: 3.0"
      - listitem: "H #3 Hanna 07:00 AM Turn: 4.0"
      - listitem: "L #4 Laura 07:00 AM Turn: 4.0"
      - listitem: "K #5 Kelley 07:00 AM Turn: 4.0"
      - listitem:
        - img "item service Emma"
        - text: "#6 Emma 07:00 AM Turn: 4.0"
      - listitem: "A #7 Anna 07:00 AM Turn: 4.0"
      - listitem: "T #8 Tina 07:00 AM Turn: 6.0"
      - listitem: "B #9 Brian 07:00 AM Turn: 6.0"
  - button "search"
  - list:
    - listitem:
      - button "Ready"
    - listitem:
      - button "In Service"
    - listitem:
      - button "Paid"
    - listitem:
      - button "All" [disabled]
  - list:
    - listitem: "T In Service #120 Tim 07:47 AM - Now -430' Waiting $0.00"
    - listitem: "D In Service #127 Dylan 02:54 PM - Now -2' Waiting $0.00"
- alert
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 | import { Fixture, When } from 'playwright-bdd/decorators';
   3 |
   4 | import { constants } from '#const';
   5 | import { PageId, type TestOptions } from '#types';
   6 |
   7 | import { TicketViewPage } from './ticket-view.page';
   8 | import { xPage } from './x.page';
   9 |
  10 | export
  11 | @Fixture('homePage')
  12 | class HomePage extends xPage {
  13 | 	override open() {
  14 | 		return this.page.goto(constants.PageUrl[PageId.HOME]);
  15 | 	}
  16 |
  17 | 	/**
  18 | 	 * A list of this page specific locators
  19 | 	 */
  20 | 	public override get locators() {
  21 | 		const { page } = this;
  22 |
  23 | 		const employeeList = page.locator('div.xQueueList');
  24 | 		const ticketList = page.locator('div.ListTicket');
  25 |
  26 | 		return {
  27 | 			...super.locators,
  28 |
  29 | 			employeeList,
  30 | 			employee: (employeeName: string) =>
  31 | 				employeeList.getByText(employeeName, { exact: true }),
  32 |
  33 | 			ticketList,
  34 | 			ticketById: (ticketId: string) =>
  35 | 				ticketList.getByText(`#${ticketId}`, { exact: true }),
  36 | 		};
  37 | 	}
  38 |
  39 | 	/**
  40 | 	 * Select an on-going ticket (by its number) on the home screen
  41 | 	 */
  42 | 	public selectTicketById(id: string, { timeout }: TestOptions = {}) {
  43 | 		const { locators } = this;
  44 |
  45 | 		return locators.ticketById(id).click({ timeout });
  46 | 	}
  47 |
  48 | 	/* -------------------------------- BDD steps ------------------------------- */
  49 |
  50 | 	@When('I select the {string} employee')
  51 | 	public async selectEmployee(employeeName: string) {
  52 | 		const { locators } = this;
  53 |
  54 | 		const employee = locators.employee(employeeName);
> 55 | 		await employee.click();
     | 		               ^ Error: locator.click: Test timeout of 90000ms exceeded.
  56 |
  57 | 		await expect(locators.pageName).toHaveText(TicketViewPage.TITLE);
  58 |
  59 | 		const ticketViewPage = new TicketViewPage(
  60 | 			this.testConfig,
  61 | 			this.testStorage,
  62 | 			this.page,
  63 | 		);
  64 | 		const ticketNumber = await ticketViewPage.getTicketNumber();
  65 |
  66 | 		// keep track ongoing tickets, used for cleanup in case of test failure
  67 | 		ticketNumber && this.testStorage.ongoingTickets.add(ticketNumber);
  68 | 	}
  69 | }
  70 |
```