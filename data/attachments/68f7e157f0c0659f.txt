# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Create tickets >> Add the Open Discount amount for Discount item
- Location: /home/circleci/project/e2e/pos-web/dist/bdd/create-tickets.feature.spec.js:260:3

# Error details

```
Error: locator.click: Test timeout of 90000ms exceeded.
Call log:
  - waiting for locator('div.xQueueList').getByText('Bella', { exact: true })

    at HomePage.selectEmployee (/home/circleci/project/e2e/pos-web/src/steps/home.page.ts:70:18)
    at Object.fn (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.1/node_modules/playwright-bdd/src/steps/decorators/steps.ts:64:17)
    at /home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.1/node_modules/playwright-bdd/src/runtime/bddStepInvoker.ts:57:60
    at BddStepInvoker.invoke (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.1/node_modules/playwright-bdd/src/runtime/bddStepInvoker.ts:51:5)
    at /home/circleci/project/e2e/pos-web/dist/bdd/create-tickets.feature.spec.js:262:5
```

# Page snapshot

```yaml
- banner:
  - img
  - list:
    - listitem: Timesheet
    - listitem: Check In
    - listitem: Tickets
    - listitem: Turn
    - listitem: Appointment
    - listitem: Quick Sale
    - listitem: Balance
  - text: Apr 01
  - list:
    - listitem: BLANC NAILS
    - listitem:
      - paragraph: ", , | (707) 707-1122"
      - text: "Thuyen Nguyen | Station: 1"
- list
- main:
  - text: CHECK-INS
  - list:
    - listitem: C Check-in 04:08 PM
    - listitem: C Check-in 04:08 PM
    - listitem: "A #292 Alice 04:07 PM"
    - listitem: "C #293 Check-in 04:07 PM"
  - tablist:
    - tab "NAILS" [selected]
    - tab "HAIR"
  - tabpanel:
    - list:
      - listitem: "S #1 Sandy 07:00 AM Turn: 0.0"
      - listitem:
        - img "item service Emily"
        - text: "#2 Emily 07:00 AM Turn: 0.0"
      - listitem: "T #3 Tom 07:00 AM Turn: 0.0"
      - listitem: "J #4 Jack 07:00 AM Turn: 1.0"
      - listitem: "R #5 Ruby 07:00 AM Turn: 1.0"
      - listitem: "D #6 Daisy 12:17 AM Turn: 1.0"
      - listitem:
        - img "item service Owner"
        - text: "#7 Owner 05:47 AM Turn: 1.0"
      - listitem: "T #8 Tim 07:00 AM Turn: 1.0"
      - listitem: "H #9 Hanna 07:00 AM Turn: 1.0"
      - listitem:
        - img "item service Emma"
        - text: "#10 Emma 07:00 AM Turn: 1.0"
      - listitem: "D #11 Dylan 07:00 AM Turn: 1.0"
      - listitem: "S #12 Sarah 07:00 AM Turn: 1.0"
      - listitem: "C #13 Chloe 12:17 AM Turn: 1.0"
      - listitem: "T #14 Tina 07:00 AM Turn: 2.0"
      - listitem: "B #15 Brian 07:00 AM Turn: 2.0"
      - listitem: "M #16 Maya 07:00 AM Turn: 2.0"
      - listitem: "A #17 Angie 12:17 AM Turn: 2.0"
      - listitem: "S #18 Samantha 12:17 AM Turn: 2.0"
      - listitem: "C #19 Christ 07:00 AM Turn: 2.0"
      - listitem: "D #20 Daniel 12:17 AM Turn: 2.0"
      - listitem: "J #21 Julia 12:17 AM Turn: 3.0"
      - listitem: "S #22 Sam 07:00 AM Turn: 4.0"
      - listitem: "H #23 Harry 07:00 AM Turn: 5.0"
      - listitem: "S #24 Sophia 07:00 AM Turn: 7.0"
      - listitem: "L #25 Lisa 07:00 AM Turn: 7.0"
      - listitem: "K #26 Kim 07:00 AM Turn: 10.0"
      - listitem: "E #27 Evelyn 12:19 AM Turn: 13.0"
      - listitem: "E #28 Ethan 07:00 AM Turn: 15.0"
      - listitem: "M #29 Mia 12:17 AM Turn: 22.0"
      - listitem: "N #30 Natalie 02:57 AM Turn: 25.0"
      - listitem: "K #31 Kelley 07:00 AM Turn: 30.0"
  - button "search"
  - list:
    - listitem:
      - button "Ready"
    - listitem:
      - button "In Service"
    - listitem:
      - button "Paid"
    - listitem:
      - button "All" [disabled]
  - list:
    - listitem: "L In Service #292 Laura Alice 04:07 PM - Now 14' Manicure $0.00"
    - listitem: "A In Service #293 Anna Check-in 04:07 PM - Now 39' Combo 1 $0.00"
    - listitem: "E #321 Evelyn 04:14 PM - Now 0' Waiting $0.00"
- alert
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 | import { Fixture, When } from 'playwright-bdd/decorators';
   3 |
   4 | import { constants } from '#const';
   5 | import { PageId, type TestOptions } from '#types';
   6 |
   7 | import { TicketViewPage } from './ticket-view.page';
   8 | import { xPage } from './x.page';
   9 |
  10 | export
  11 | @Fixture('homePage')
  12 | class HomePage extends xPage {
  13 | 	override open() {
  14 | 		return this.page.goto(constants.PageUrl[PageId.HOME]);
  15 | 	}
  16 |
  17 | 	/**
  18 | 	 * A list of this page specific locators
  19 | 	 */
  20 | 	public override get locators() {
  21 | 		const { page } = this;
  22 |
  23 | 		const employeeList = page.locator('div.xQueueList');
  24 | 		const ticketList = page.locator('div.ListTicket');
  25 |
  26 | 		return {
  27 | 			...super.locators,
  28 |
  29 | 			/**
  30 | 			 * Locate the employee list section, which is the middle column of the {@link PageId.HOME} screen
  31 | 			 */
  32 | 			employeeList,
  33 | 			/**
  34 | 			 * Locate an employee by their name
  35 | 			 */
  36 | 			employee: (employeeName: string) =>
  37 | 				employeeList.getByText(employeeName, { exact: true }),
  38 |
  39 | 			/**
  40 | 			 * Locate the on-going ticket list, which is the right column of the {@link PageId.HOME} screen
  41 | 			 */
  42 | 			ticketList,
  43 | 			/**
  44 | 			 * Locate an on-going ticket by its ID
  45 | 			 */
  46 | 			ticketById: (ticketId: string) =>
  47 | 				ticketList.getByText(`#${ticketId}`, { exact: true }),
  48 | 		};
  49 | 	}
  50 |
  51 | 	/**
  52 | 	 * Select an on-going ticket (by its number) on the home screen
  53 | 	 */
  54 | 	public selectTicketById(id: string, options: TestOptions = {}) {
  55 | 		const { locators } = this;
  56 |
  57 | 		return locators.ticketById(id).click({ timeout: options.timeout });
  58 | 	}
  59 |
  60 | 	/* -------------------------------- BDD steps ------------------------------- */
  61 |
  62 | 	/**
  63 | 	 * Select an employee on {@link PageId.HOME} screen
  64 | 	 */
  65 | 	@When('I select the {string} employee')
  66 | 	public async selectEmployee(employeeName: string) {
  67 | 		const { locators } = this;
  68 |
  69 | 		const employee = locators.employee(employeeName);
> 70 | 		await employee.click();
     | 		               ^ Error: locator.click: Test timeout of 90000ms exceeded.
  71 |
  72 | 		await this.waitForResponseOfAPI('Save lock number');
  73 | 		await expect(locators.pageName).toHaveText(TicketViewPage.TITLE);
  74 |
  75 | 		const ticketViewPage = new TicketViewPage(
  76 | 			this.testConfig,
  77 | 			this.testStorage,
  78 | 			this.page,
  79 | 		);
  80 | 		const ticketNumber = await ticketViewPage.getTicketNumber();
  81 |
  82 | 		// keep track ongoing tickets, used for cleanup in case of test failure
  83 | 		ticketNumber && this.testStorage.ongoingTickets.add(ticketNumber);
  84 | 	}
  85 | }
  86 |
```