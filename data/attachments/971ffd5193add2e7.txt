# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Create tickets >> Create a new customer on the fly
- Location: /home/circleci/project/e2e/pos-web/dist/bdd/create-tickets.feature.spec.js:44:3

# Error details

```
Error: locator.click: Error: strict mode violation: locator('div.xQueueList').getByText('Dylan', { exact: true }) resolved to 2 elements:
    1) <span class="nickname">Dylan</span> aka getByText('Dylan').first()
    2) <span class="nickname">Dylan</span> aka getByText('Dylan').nth(1)

Call log:
  - waiting for locator('div.xQueueList').getByText('Dylan', { exact: true })

    at HomePage.selectEmployee (/home/circleci/project/e2e/pos-web/src/steps/home.page.ts:55:18)
    at Object.fn (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.0/node_modules/playwright-bdd/src/steps/decorators/steps.ts:64:17)
    at /home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.0/node_modules/playwright-bdd/src/runtime/bddStepInvoker.ts:57:60
    at BddStepInvoker.invoke (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.0/node_modules/playwright-bdd/src/runtime/bddStepInvoker.ts:51:5)
    at /home/circleci/project/e2e/pos-web/dist/bdd/create-tickets.feature.spec.js:46:5
```

# Page snapshot

```yaml
- banner:
  - img
  - list:
    - listitem: Timesheet
    - listitem: Check In
    - listitem: Tickets
    - listitem: Turn
    - listitem: Appointment
    - listitem: Quick Sale
    - listitem: Balance
  - text: Mar 10
  - list:
    - listitem: BLANC NAILS
    - listitem:
      - paragraph: ", , | (707) 707-1122"
      - text: "Thuyen Nguyen | Station: 1"
- list
- main:
  - text: CHECK-INS No Customer
  - tablist:
    - tab "NAILS" [selected]
    - tab "HAIR"
  - tabpanel:
    - list:
      - listitem: "H #1 Hanna 07:00 AM Turn: 0.0"
      - listitem: "D #2 Dylan 07:00 AM Turn: 0.0"
      - listitem: "T #3 Tim 07:00 AM Turn: 0.0"
      - listitem: "B #4 Brian 07:00 AM Turn: 0.0"
      - listitem: "A #5 Anna 07:00 AM Turn: 0.0"
      - listitem: "C #6 Christ 07:00 AM Turn: 0.0"
      - listitem: "K #7 Kelley 07:00 AM Turn: 0.0"
      - listitem: "T #8 Tina 07:00 AM Turn: 0.0"
      - listitem: "C #9 Christ 07:00 AM Turn: 0.0"
      - listitem:
        - img "item service Emma"
        - text: "#10 Emma 07:00 AM Turn: 0.0"
      - listitem: "L #11 Laura 07:00 AM Turn: 0.0"
      - listitem: "B #12 Brian 07:00 AM Turn: 0.0"
      - listitem: "D #13 Dylan 07:00 AM Turn: 0.0"
      - listitem:
        - img "item service Emma"
        - text: "#14 Emma 07:00 AM Turn: 0.0"
      - listitem: "T #15 Tina 07:00 AM Turn: 0.0"
      - listitem: "K #16 Kelley 07:00 AM Turn: 0.0"
      - listitem: "H #17 Hanna 07:00 AM Turn: 0.0"
      - listitem: "T #18 Tim 07:00 AM Turn: 0.0"
      - listitem: "A #19 Anna 07:00 AM Turn: 0.0"
      - listitem: "L #20 Laura 07:00 AM Turn: 0.0"
      - listitem:
        - img "item service Owner"
        - text: "#21 Owner 12:05 AM Turn: 1.0"
  - button "search"
  - list:
    - listitem:
      - button "Ready"
    - listitem:
      - button "In Service"
    - listitem:
      - button "Paid"
    - listitem:
      - button "All" [disabled]
  - text: No Ticket Found.
- alert
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 | import { Fixture, When } from 'playwright-bdd/decorators';
   3 |
   4 | import { constants } from '#const';
   5 | import { PageId, type TestOptions } from '#types';
   6 |
   7 | import { TicketViewPage } from './ticket-view.page';
   8 | import { xPage } from './x.page';
   9 |
  10 | export
  11 | @Fixture('homePage')
  12 | class HomePage extends xPage {
  13 | 	override open() {
  14 | 		return this.page.goto(constants.PageUrl[PageId.HOME]);
  15 | 	}
  16 |
  17 | 	/**
  18 | 	 * A list of this page specific locators
  19 | 	 */
  20 | 	public override get locators() {
  21 | 		const { page } = this;
  22 |
  23 | 		const employeeList = page.locator('div.xQueueList');
  24 | 		const ticketList = page.locator('div.ListTicket');
  25 |
  26 | 		return {
  27 | 			...super.locators,
  28 |
  29 | 			employeeList,
  30 | 			employee: (employeeName: string) =>
  31 | 				employeeList.getByText(employeeName, { exact: true }),
  32 |
  33 | 			ticketList,
  34 | 			ticketById: (ticketId: string) =>
  35 | 				ticketList.getByText(`#${ticketId}`, { exact: true }),
  36 | 		};
  37 | 	}
  38 |
  39 | 	/**
  40 | 	 * Select an on-going ticket (by its number) on the home screen
  41 | 	 */
  42 | 	public selectTicketById(id: string, { timeout }: TestOptions = {}) {
  43 | 		const { locators } = this;
  44 |
  45 | 		return locators.ticketById(id).click({ timeout });
  46 | 	}
  47 |
  48 | 	/* -------------------------------- BDD steps ------------------------------- */
  49 |
  50 | 	@When('I select the {string} employee')
  51 | 	public async selectEmployee(employeeName: string) {
  52 | 		const { locators } = this;
  53 |
  54 | 		const employee = locators.employee(employeeName);
> 55 | 		await employee.click();
     | 		               ^ Error: locator.click: Error: strict mode violation: locator('div.xQueueList').getByText('Dylan', { exact: true }) resolved to 2 elements:
  56 |
  57 | 		await this.waitForResponseOfAPI('Save lock number');
  58 | 		await expect(locators.pageName).toHaveText(TicketViewPage.TITLE);
  59 |
  60 | 		const ticketViewPage = new TicketViewPage(
  61 | 			this.testConfig,
  62 | 			this.testStorage,
  63 | 			this.page,
  64 | 		);
  65 | 		const ticketNumber = await ticketViewPage.getTicketNumber();
  66 |
  67 | 		// keep track ongoing tickets, used for cleanup in case of test failure
  68 | 		ticketNumber && this.testStorage.ongoingTickets.add(ticketNumber);
  69 | 	}
  70 | }
  71 |
```