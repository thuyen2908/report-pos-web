{"uid":"bc1b89a4af832802","name":"Add an existing customer to a new ticket and pay with Loyalty points","fullName":"create-tickets.feature.spec.js:26:3","historyId":"0c1fdad9aeb255f1fc72abe47b26df83:94dadec355fb24357203fcbce2c308f6","time":{"start":1742561204350,"stop":1742561365960,"duration":161610},"status":"broken","statusMessage":"Tearing down \"$afterEach\" exceeded the test timeout of 90000ms.","statusTrace":"Tearing down \"$afterEach\" exceeded the test timeout of 90000ms.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Tearing down \"$afterEach\" exceeded the test timeout of 90000ms.","statusTrace":"Tearing down \"$afterEach\" exceeded the test timeout of 90000ms.","steps":[{"name":"Before Hooks","time":{"start":1742561204352,"stop":1742561204432,"duration":80},"status":"passed","steps":[{"name":"fixture: testStorage","time":{"start":1742561204530,"stop":1742561204530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fixture: browser","time":{"start":1742561204531,"stop":1742561204923,"duration":392},"status":"passed","steps":[{"name":"browserType.launch","time":{"start":1742561204535,"stop":1742561204923,"duration":388},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"fixture: context","time":{"start":1742561204924,"stop":1742561205137,"duration":213},"status":"passed","steps":[{"name":"browser.newContext","time":{"start":1742561204926,"stop":1742561205135,"duration":209},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"fixture: page","time":{"start":1742561205138,"stop":1742561205240,"duration":102},"status":"passed","steps":[{"name":"browserContext.newPage","time":{"start":1742561205139,"stop":1742561205240,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"fixture: homePage","time":{"start":1742561205241,"stop":1742561206132,"duration":891},"status":"passed","steps":[{"name":"","time":{"start":1742561205242,"stop":1742561205243,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Given I am on the HOME page","time":{"start":1742561205282,"stop":1742561209838,"duration":4556},"status":"passed","steps":[{"name":"page.goto(https://posqa.azurewebsites.net)","time":{"start":1742561205286,"stop":1742561209838,"duration":4552},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"When I select the \"Tim\" employee","time":{"start":1742561209843,"stop":1742561210740,"duration":897},"status":"passed","steps":[{"name":"locator.click(div.xQueueList >> internal:text=\"Tim\"s)","time":{"start":1742561209846,"stop":1742561260249,"duration":50403},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page.waitForResponse","time":{"start":1742561260253,"stop":1742561264024,"duration":3771},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"expect.toHaveText","time":{"start":1742561264026,"stop":1742561264141,"duration":115},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"locator.textContent(div.xHeader__top >> p.pageDetail)","time":{"start":1742561264144,"stop":1742561318527,"duration":54383},"status":"passed","steps":[{"name":"","time":{"start":1742561264145,"stop":1742561264227,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"And I add the \"Manicure\" service to my cart","time":{"start":1742561264230,"stop":1742561265125,"duration":895},"status":"passed","steps":[{"name":"locator.click(li.ItemService >> internal:text=\"Manicure\"s)","time":{"start":1742561264232,"stop":1742561264320,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Then I should see my cart showing 1 item added","time":{"start":1742561265129,"stop":1742561265217,"duration":88},"status":"passed","steps":[{"name":"expect.toBeVisible","time":{"start":1742561265131,"stop":1742561265136,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"expect.toHaveText","time":{"start":1742561265138,"stop":1742561265148,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I should see the tax amount non-zero","time":{"start":1742561265140,"stop":1742561265213,"duration":73},"status":"passed","steps":[{"name":"expect.not.toContainText","time":{"start":1742561265142,"stop":1742561265150,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"expect.not.toHaveText","time":{"start":1742561265223,"stop":1742561265228,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"When I add the \"Tin\" customer","time":{"start":1742561265231,"stop":1742561265743,"duration":512},"status":"passed","steps":[{"name":"locator.click(.TicketSearch__customer )","time":{"start":1742561265233,"stop":1742561265739,"duration":506},"status":"passed","steps":[{"name":"locator.fill(.TicketSearch__customer input)","time":{"start":1742561265236,"stop":1742561265548,"duration":312},"status":"passed","steps":[{"name":"locator.click(.MuiListItemText-root.name >> internal:text=\"Tin\"s)","time":{"start":1742561265237,"stop":1742561265541,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Then I should see a new customer \"Tin\" on ticket","time":{"start":1742561265745,"stop":1742561266739,"duration":994},"status":"passed","steps":[{"name":"expect.toHaveText","time":{"start":1742561265815,"stop":1742561266739,"duration":924},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"When I click on the \"Pay\" button","time":{"start":1742561266741,"stop":1742561267025,"duration":284},"status":"passed","steps":[{"name":"expect.toBeVisible","time":{"start":1742561266742,"stop":1742561266754,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"locator.getByRole('button', { name: 'Pay' }).click","time":{"start":1742561266755,"stop":1742561267025,"duration":270},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Then I should see a popup dialog with title \"Reward\"","time":{"start":1742561267028,"stop":1742561267039,"duration":11},"status":"passed","steps":[{"name":"expect.toBeVisible","time":{"start":1742561267029,"stop":1742561267035,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"expect.toHaveText","time":{"start":1742561267036,"stop":1742561267039,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"When I click on the \"OK\" button in the popup dialog","time":{"start":1742561267042,"stop":1742561267347,"duration":305},"status":"passed","steps":[{"name":"expect.toBeVisible","time":{"start":1742561267043,"stop":1742561267047,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"locator.click(div[role=\"dialog\"] >> internal:role=button[name=\"OK\"s])","time":{"start":1742561267048,"stop":1742561267347,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Then I should see the text \"PAYMENT TICKET\" visible","time":{"start":1742561267349,"stop":1742561267357,"duration":8},"status":"passed","steps":[{"name":"expect.toBeVisible","time":{"start":1742561267350,"stop":1742561267356,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"And I should see the text \"PAYMENT HISTORY\" visible","time":{"start":1742561267357,"stop":1742561267428,"duration":71},"status":"passed","steps":[{"name":"expect.toBeVisible","time":{"start":1742561267415,"stop":1742561267427,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"And I should see the text \"BALANCE\" visible","time":{"start":1742561267429,"stop":1742561267436,"duration":7},"status":"passed","steps":[{"name":"expect.toBeVisible","time":{"start":1742561267430,"stop":1742561267436,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"When I redeem my loyalty points","time":{"start":1742561267438,"stop":1742561267733,"duration":295},"status":"passed","steps":[{"name":"locator.click(.xLoyalty__item)","time":{"start":1742561267439,"stop":1742561267560,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"locator.click(.xLoyalty__btn >> internal:text=\"OK\"i)","time":{"start":1742561267561,"stop":1742561267733,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Then I should be redirected to HOME page","time":{"start":1742561267736,"stop":1742561276423,"duration":8687},"status":"passed","steps":[{"name":"page.waitForURL","time":{"start":1742561267739,"stop":1742561276326,"duration":8587},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"expect.toHaveURL","time":{"start":1742561276328,"stop":1742561276423,"duration":95},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"After Hooks","time":{"start":1742561276424},"status":"unknown","steps":[{"name":"AfterEach Hooks","time":{"start":1742561276425,"stop":1742561276426,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"AfterEach hook","time":{"start":1742561276428,"stop":1742561366435,"duration":90007},"status":"failed","statusMessage":"Error: page.waitForResponse: Test ended.","statusTrace":"Error: page.waitForResponse: Test ended.\n    at HomePage.waitForResponseOfAPI (/home/circleci/project/e2e/pos-web/src/steps/x.page.ts:107:20)\n    at /home/circleci/project/e2e/pos-web/src/redundant-tickets.cleanup.ts:38:18\n    at Object.cleanupRedundantTickets (/home/circleci/project/e2e/pos-web/src/redundant-tickets.cleanup.ts:62:2)\n    at /home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.1/node_modules/playwright-bdd/src/hooks/scenario.ts:138:5\n    at runScenarioHook (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.1/node_modules/playwright-bdd/src/hooks/scenario.ts:106:3)\n    at runScenarioHooks (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.1/node_modules/playwright-bdd/src/hooks/scenario.ts:94:7)\n    at Object.exports.test.bddWorkerFixtures_1.test.extend.$afterEach (/home/circleci/project/node_modules/.pnpm/playwright-bdd@8.2.1_@cucumber+message-streams@4.0.1_@cucumber+messages@27.0.2__@playwright+test@1.51.1/node_modules/playwright-bdd/src/runtime/bddTestFixtures.ts:149:7)","steps":[{"name":"browser.newContext","time":{"start":1742561276432,"stop":1742561276642,"duration":210},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browserContext.newPage","time":{"start":1742561276645,"stop":1742561276927,"duration":282},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page.goto(https://posqa.azurewebsites.net)","time":{"start":1742561276930,"stop":1742561281015,"duration":4085},"status":"passed","steps":[{"name":"","time":{"start":1742561276931,"stop":1742561277322,"duration":391},"status":"passed","steps":[{"name":"","time":{"start":1742561276932,"stop":1742561277324,"duration":392},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"page.waitForResponse","time":{"start":1742561281022,"stop":1742561371026,"duration":90004},"status":"failed","statusMessage":"Tearing down \"$afterEach\" exceeded the test timeout of 90000ms.","statusTrace":"Tearing down \"$afterEach\" exceeded the test timeout of 90000ms.","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6e035ae9c6698c57","name":"stdout","source":"6e035ae9c6698c57.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":62,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"create-tickets.feature.spec.js"},{"name":"titlePath","value":" > chrome > create-tickets.feature.spec.js > Create tickets"},{"name":"tag","value":"slow"},{"name":"tag","value":"regression"},{"name":"tag","value":"smoke"},{"name":"host","value":"78656efccc51"},{"name":"thread","value":"pid-4465-worker-1"},{"name":"parentSuite","value":"chrome"},{"name":"suite","value":"create-tickets.feature.spec.js"},{"name":"subSuite","value":"Create tickets"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"chrome"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["slow","regression","smoke"]},"source":"bc1b89a4af832802.json","parameterValues":["chrome"]}